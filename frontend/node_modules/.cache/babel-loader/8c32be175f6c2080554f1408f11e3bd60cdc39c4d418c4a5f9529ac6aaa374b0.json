{"ast":null,"code":"var _jsxFileName = \"E:\\\\AI\\\\SIH 2025\\\\frontend\\\\src\\\\components\\\\Reports.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useLanguage } from '../context/LanguageContext';\nimport axios from 'axios';\nimport { Line, Bar, Doughnut } from 'react-chartjs-2';\nimport { BarChart3, TrendingUp, Calendar, Download, PieChart, Activity, Target, AlertTriangle, CheckCircle, Filter, RefreshCw } from 'lucide-react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, BarElement, ArcElement, Title, Tooltip, Legend, Filler } from 'chart.js';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, BarElement, ArcElement, Title, Tooltip, Legend, Filler);\nconst Reports = () => {\n  _s();\n  var _statsData$cropTypes, _statsData$riskDistri, _statsData$riskDistri2, _statsData$riskDistri3, _statsData$cropTypes2, _statsData$riskDistri4, _statsData$riskDistri5, _statsData$cropTypes3, _reportsData$predicti;\n  const {\n    user\n  } = useAuth();\n  const {\n    t\n  } = useLanguage();\n  const [reportsData, setReportsData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [selectedCrop, setSelectedCrop] = useState('all');\n  const [selectedTimeRange, setSelectedTimeRange] = useState('all');\n  const [statsData, setStatsData] = useState(null);\n  useEffect(() => {\n    fetchReportsData();\n  }, [user]);\n  useEffect(() => {\n    if (reportsData) {\n      calculateStats();\n    }\n  }, [reportsData, selectedCrop, selectedTimeRange]);\n  const fetchReportsData = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`/api/reports/${user.id}`);\n      setReportsData(response.data);\n      toast.success('Reports loaded successfully');\n    } catch (error) {\n      console.error('Error fetching reports:', error);\n      toast.error('Failed to load reports data');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const calculateStats = () => {\n    if (!(reportsData !== null && reportsData !== void 0 && reportsData.predictions)) return;\n    let filteredData = reportsData.predictions;\n\n    // Filter by crop type\n    if (selectedCrop !== 'all') {\n      filteredData = filteredData.filter(p => p.crop_type === selectedCrop);\n    }\n\n    // Filter by time range\n    if (selectedTimeRange !== 'all') {\n      const now = new Date();\n      const timeRanges = {\n        '7d': 7,\n        '30d': 30,\n        '90d': 90,\n        '1y': 365\n      };\n      const days = timeRanges[selectedTimeRange];\n      const cutoffDate = new Date(now.getTime() - days * 24 * 60 * 60 * 1000);\n      filteredData = filteredData.filter(p => new Date(p.created_at) >= cutoffDate);\n    }\n    const totalPredictions = filteredData.length;\n    const avgYield = totalPredictions > 0 ? filteredData.reduce((sum, p) => sum + p.predicted_yield, 0) / totalPredictions : 0;\n    const riskDistribution = filteredData.reduce((acc, p) => {\n      acc[p.risk_level] = (acc[p.risk_level] || 0) + 1;\n      return acc;\n    }, {});\n    const cropTypes = [...new Set(filteredData.map(p => p.crop_type))];\n    setStatsData({\n      totalPredictions,\n      avgYield: avgYield.toFixed(2),\n      riskDistribution,\n      cropTypes,\n      filteredData\n    });\n  };\n  const getFilteredData = () => {\n    if (!(reportsData !== null && reportsData !== void 0 && reportsData.predictions)) return [];\n    let data = reportsData.predictions;\n    if (selectedCrop !== 'all') {\n      data = data.filter(p => p.crop_type === selectedCrop);\n    }\n    if (selectedTimeRange !== 'all') {\n      const now = new Date();\n      const timeRanges = {\n        '7d': 7,\n        '30d': 30,\n        '90d': 90,\n        '1y': 365\n      };\n      const days = timeRanges[selectedTimeRange];\n      const cutoffDate = new Date(now.getTime() - days * 24 * 60 * 60 * 1000);\n      data = data.filter(p => new Date(p.created_at) >= cutoffDate);\n    }\n    return data.slice(0, 20); // Show last 20 entries\n  };\n\n  // Chart data preparation\n  const yieldTrendData = {\n    labels: getFilteredData().map(p => new Date(p.created_at).toLocaleDateString()).slice(-10),\n    datasets: [{\n      label: 'Predicted Yield (t/ha)',\n      data: getFilteredData().map(p => p.predicted_yield).slice(-10),\n      borderColor: 'rgb(34, 197, 94)',\n      backgroundColor: 'rgba(34, 197, 94, 0.1)',\n      tension: 0.4,\n      fill: true,\n      pointBackgroundColor: 'rgb(34, 197, 94)',\n      pointBorderColor: '#fff',\n      pointBorderWidth: 2,\n      pointRadius: 6\n    }]\n  };\n  const cropYieldData = {\n    labels: (statsData === null || statsData === void 0 ? void 0 : statsData.cropTypes) || [],\n    datasets: [{\n      label: 'Average Yield by Crop',\n      data: (statsData === null || statsData === void 0 ? void 0 : (_statsData$cropTypes = statsData.cropTypes) === null || _statsData$cropTypes === void 0 ? void 0 : _statsData$cropTypes.map(crop => {\n        const cropPredictions = getFilteredData().filter(p => p.crop_type === crop);\n        return cropPredictions.length > 0 ? cropPredictions.reduce((sum, p) => sum + p.predicted_yield, 0) / cropPredictions.length : 0;\n      })) || [],\n      backgroundColor: ['rgba(34, 197, 94, 0.8)', 'rgba(59, 130, 246, 0.8)', 'rgba(245, 158, 11, 0.8)', 'rgba(239, 68, 68, 0.8)', 'rgba(147, 51, 234, 0.8)', 'rgba(236, 72, 153, 0.8)'],\n      borderColor: ['rgba(34, 197, 94, 1)', 'rgba(59, 130, 246, 1)', 'rgba(245, 158, 11, 1)', 'rgba(239, 68, 68, 1)', 'rgba(147, 51, 234, 1)', 'rgba(236, 72, 153, 1)'],\n      borderWidth: 2\n    }]\n  };\n  const riskDistributionData = {\n    labels: ['Low Risk (Green)', 'Medium Risk (Yellow)', 'High Risk (Red)'],\n    datasets: [{\n      data: [(statsData === null || statsData === void 0 ? void 0 : (_statsData$riskDistri = statsData.riskDistribution) === null || _statsData$riskDistri === void 0 ? void 0 : _statsData$riskDistri.Green) || 0, (statsData === null || statsData === void 0 ? void 0 : (_statsData$riskDistri2 = statsData.riskDistribution) === null || _statsData$riskDistri2 === void 0 ? void 0 : _statsData$riskDistri2.Yellow) || 0, (statsData === null || statsData === void 0 ? void 0 : (_statsData$riskDistri3 = statsData.riskDistribution) === null || _statsData$riskDistri3 === void 0 ? void 0 : _statsData$riskDistri3.Red) || 0],\n      backgroundColor: ['rgba(34, 197, 94, 0.8)', 'rgba(245, 158, 11, 0.8)', 'rgba(239, 68, 68, 0.8)'],\n      borderColor: ['rgba(34, 197, 94, 1)', 'rgba(245, 158, 11, 1)', 'rgba(239, 68, 68, 1)'],\n      borderWidth: 2\n    }]\n  };\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          font: {\n            size: 12\n          }\n        }\n      },\n      title: {\n        display: false\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        grid: {\n          color: 'rgba(0,0,0,0.1)'\n        },\n        ticks: {\n          font: {\n            size: 11\n          }\n        }\n      },\n      x: {\n        grid: {\n          color: 'rgba(0,0,0,0.1)'\n        },\n        ticks: {\n          font: {\n            size: 11\n          }\n        }\n      }\n    }\n  };\n  const doughnutOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'bottom',\n        labels: {\n          font: {\n            size: 12\n          },\n          padding: 20\n        }\n      }\n    }\n  };\n  const exportData = () => {\n    try {\n      const dataToExport = {\n        user: user.username,\n        exportDate: new Date().toISOString(),\n        filters: {\n          crop: selectedCrop,\n          timeRange: selectedTimeRange\n        },\n        statistics: statsData,\n        predictions: getFilteredData()\n      };\n      const blob = new Blob([JSON.stringify(dataToExport, null, 2)], {\n        type: 'application/json'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `crop-reports-${user.username}-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      toast.success('Report exported successfully');\n    } catch (error) {\n      toast.error('Failed to export report');\n    }\n  };\n  const getRiskIcon = riskLevel => {\n    switch (riskLevel) {\n      case 'Green':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4 text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 16\n        }, this);\n      case 'Yellow':\n        return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"h-4 w-4 text-yellow-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 16\n        }, this);\n      case 'Red':\n        return /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"h-4 w-4 text-red-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Activity, {\n          className: \"h-4 w-4 text-gray-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center pt-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-16 w-16 border-b-2 border-green-500 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading reports data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 pt-16\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n            className: \"h-8 w-8 mr-3 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), t('reports')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mt-2\",\n          children: \"Comprehensive analysis of your crop yield predictions and farming trends\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-4 mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-center justify-between gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap items-center gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(Filter, {\n                className: \"h-5 w-5 text-gray-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: \"Filters:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedCrop,\n              onChange: e => setSelectedCrop(e.target.value),\n              className: \"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Crops\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this), statsData === null || statsData === void 0 ? void 0 : (_statsData$cropTypes2 = statsData.cropTypes) === null || _statsData$cropTypes2 === void 0 ? void 0 : _statsData$cropTypes2.map(crop => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: crop,\n                children: crop\n              }, crop, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedTimeRange,\n              onChange: e => setSelectedTimeRange(e.target.value),\n              className: \"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"7d\",\n                children: \"Last 7 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"30d\",\n                children: \"Last 30 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"90d\",\n                children: \"Last 3 Months\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1y\",\n                children: \"Last Year\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: fetchReportsData,\n              className: \"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Refresh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportData,\n              className: \"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Export\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-600\",\n                children: \"Total Predictions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: (statsData === null || statsData === void 0 ? void 0 : statsData.totalPredictions) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Target, {\n              className: \"h-10 w-10 text-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-600\",\n                children: \"Average Yield\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-green-600\",\n                children: (statsData === null || statsData === void 0 ? void 0 : statsData.avgYield) || '0.00'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"tons/hectare\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"h-10 w-10 text-green-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-600\",\n                children: \"High Risk\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-red-600\",\n                children: (statsData === null || statsData === void 0 ? void 0 : (_statsData$riskDistri4 = statsData.riskDistribution) === null || _statsData$riskDistri4 === void 0 ? void 0 : _statsData$riskDistri4.Red) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"predictions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AlertTriangle, {\n              className: \"h-10 w-10 text-red-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-600\",\n                children: \"Safe Predictions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-green-600\",\n                children: (statsData === null || statsData === void 0 ? void 0 : (_statsData$riskDistri5 = statsData.riskDistribution) === null || _statsData$riskDistri5 === void 0 ? void 0 : _statsData$riskDistri5.Green) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: \"low risk\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CheckCircle, {\n              className: \"h-10 w-10 text-green-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                className: \"h-6 w-6 mr-2 text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), \"Yield Trends\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-80\",\n            children: getFilteredData().length > 0 ? /*#__PURE__*/_jsxDEV(Line, {\n              data: yieldTrendData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center h-full text-gray-500\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(Activity, {\n                  className: \"h-12 w-12 mx-auto mb-2 text-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No data available for selected filters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-gray-800 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(PieChart, {\n                className: \"h-6 w-6 mr-2 text-purple-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 17\n              }, this), \"Risk Distribution\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-80\",\n            children: getFilteredData().length > 0 ? /*#__PURE__*/_jsxDEV(Doughnut, {\n              data: riskDistributionData,\n              options: doughnutOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center h-full text-gray-500\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(PieChart, {\n                  className: \"h-12 w-12 mx-auto mb-2 text-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"No data available for selected filters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this), (statsData === null || statsData === void 0 ? void 0 : (_statsData$cropTypes3 = statsData.cropTypes) === null || _statsData$cropTypes3 === void 0 ? void 0 : _statsData$cropTypes3.length) > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-800 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              className: \"h-6 w-6 mr-2 text-green-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this), \"Crop Yield Comparison\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-80\",\n          children: /*#__PURE__*/_jsxDEV(Bar, {\n            data: cropYieldData,\n            options: chartOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-800 mb-6 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            className: \"h-6 w-6 mr-2 text-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this), \"Historical Predictions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this), (reportsData === null || reportsData === void 0 ? void 0 : (_reportsData$predicti = reportsData.predictions) === null || _reportsData$predicti === void 0 ? void 0 : _reportsData$predicti.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full divide-y divide-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Crop Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Predicted Yield\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 529,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Risk Level\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Recommendations\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"bg-white divide-y divide-gray-200\",\n              children: reportsData.predictions.map(prediction => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: new Date(prediction.created_at).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: prediction.crop_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600\",\n                  children: [prediction.predicted_yield, \" t/ha\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `inline-flex px-2 py-1 text-xs font-semibold rounded-full ${prediction.risk_level === 'Green' ? 'bg-green-100 text-green-800' : prediction.risk_level === 'Yellow' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                    children: t(prediction.risk_level === 'Green' ? 'safe' : prediction.risk_level === 'Yellow' ? 'warning' : 'risk')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 text-sm text-gray-900\",\n                  children: [prediction.recommendations.length, \" recommendations\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 23\n                }, this)]\n              }, prediction.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No historical data available yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.href = '/data-entry',\n            className: \"mt-4 bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors\",\n            children: \"Start Making Predictions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 337,\n    columnNumber: 5\n  }, this);\n};\n_s(Reports, \"DqsvOtD2f61g9RATZZIIecL8UMg=\", false, function () {\n  return [useAuth, useLanguage];\n});\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","useLanguage","axios","Line","Bar","Doughnut","BarChart3","TrendingUp","Calendar","Download","PieChart","Activity","Target","AlertTriangle","CheckCircle","Filter","RefreshCw","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","BarElement","ArcElement","Title","Tooltip","Legend","Filler","toast","jsxDEV","_jsxDEV","register","Reports","_s","_statsData$cropTypes","_statsData$riskDistri","_statsData$riskDistri2","_statsData$riskDistri3","_statsData$cropTypes2","_statsData$riskDistri4","_statsData$riskDistri5","_statsData$cropTypes3","_reportsData$predicti","user","t","reportsData","setReportsData","loading","setLoading","selectedCrop","setSelectedCrop","selectedTimeRange","setSelectedTimeRange","statsData","setStatsData","fetchReportsData","calculateStats","response","get","id","data","success","error","console","predictions","filteredData","filter","p","crop_type","now","Date","timeRanges","days","cutoffDate","getTime","created_at","totalPredictions","length","avgYield","reduce","sum","predicted_yield","riskDistribution","acc","risk_level","cropTypes","Set","map","toFixed","getFilteredData","slice","yieldTrendData","labels","toLocaleDateString","datasets","label","borderColor","backgroundColor","tension","fill","pointBackgroundColor","pointBorderColor","pointBorderWidth","pointRadius","cropYieldData","crop","cropPredictions","borderWidth","riskDistributionData","Green","Yellow","Red","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","font","size","title","display","scales","y","beginAtZero","grid","color","ticks","x","doughnutOptions","padding","exportData","dataToExport","username","exportDate","toISOString","filters","timeRange","statistics","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","document","createElement","href","download","split","body","appendChild","click","removeChild","revokeObjectURL","getRiskIcon","riskLevel","className","fileName","_jsxFileName","lineNumber","columnNumber","children","value","onChange","e","target","onClick","options","prediction","recommendations","window","location","_c","$RefreshReg$"],"sources":["E:/AI/SIH 2025/frontend/src/components/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useLanguage } from '../context/LanguageContext';\nimport axios from 'axios';\nimport { Line, Bar, Doughnut } from 'react-chartjs-2';\nimport { \n  BarChart3, \n  TrendingUp, \n  Calendar, \n  Download, \n  PieChart, \n  Activity,\n  Target,\n  AlertTriangle,\n  CheckCircle,\n  Filter,\n  RefreshCw\n} from 'lucide-react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  ArcElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n} from 'chart.js';\nimport toast from 'react-hot-toast';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  ArcElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n);\n\nconst Reports = () => {\n  const { user } = useAuth();\n  const { t } = useLanguage();\n  const [reportsData, setReportsData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [selectedCrop, setSelectedCrop] = useState('all');\n  const [selectedTimeRange, setSelectedTimeRange] = useState('all');\n  const [statsData, setStatsData] = useState(null);\n\n  useEffect(() => {\n    fetchReportsData();\n  }, [user]);\n\n  useEffect(() => {\n    if (reportsData) {\n      calculateStats();\n    }\n  }, [reportsData, selectedCrop, selectedTimeRange]);\n\n  const fetchReportsData = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`/api/reports/${user.id}`);\n      setReportsData(response.data);\n      toast.success('Reports loaded successfully');\n    } catch (error) {\n      console.error('Error fetching reports:', error);\n      toast.error('Failed to load reports data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const calculateStats = () => {\n    if (!reportsData?.predictions) return;\n    \n    let filteredData = reportsData.predictions;\n    \n    // Filter by crop type\n    if (selectedCrop !== 'all') {\n      filteredData = filteredData.filter(p => p.crop_type === selectedCrop);\n    }\n    \n    // Filter by time range\n    if (selectedTimeRange !== 'all') {\n      const now = new Date();\n      const timeRanges = {\n        '7d': 7,\n        '30d': 30,\n        '90d': 90,\n        '1y': 365\n      };\n      const days = timeRanges[selectedTimeRange];\n      const cutoffDate = new Date(now.getTime() - days * 24 * 60 * 60 * 1000);\n      filteredData = filteredData.filter(p => new Date(p.created_at) >= cutoffDate);\n    }\n    \n    const totalPredictions = filteredData.length;\n    const avgYield = totalPredictions > 0 ? \n      filteredData.reduce((sum, p) => sum + p.predicted_yield, 0) / totalPredictions : 0;\n    \n    const riskDistribution = filteredData.reduce((acc, p) => {\n      acc[p.risk_level] = (acc[p.risk_level] || 0) + 1;\n      return acc;\n    }, {});\n    \n    const cropTypes = [...new Set(filteredData.map(p => p.crop_type))];\n    \n    setStatsData({\n      totalPredictions,\n      avgYield: avgYield.toFixed(2),\n      riskDistribution,\n      cropTypes,\n      filteredData\n    });\n  };\n\n  const getFilteredData = () => {\n    if (!reportsData?.predictions) return [];\n    \n    let data = reportsData.predictions;\n    \n    if (selectedCrop !== 'all') {\n      data = data.filter(p => p.crop_type === selectedCrop);\n    }\n    \n    if (selectedTimeRange !== 'all') {\n      const now = new Date();\n      const timeRanges = {\n        '7d': 7,\n        '30d': 30,\n        '90d': 90,\n        '1y': 365\n      };\n      const days = timeRanges[selectedTimeRange];\n      const cutoffDate = new Date(now.getTime() - days * 24 * 60 * 60 * 1000);\n      data = data.filter(p => new Date(p.created_at) >= cutoffDate);\n    }\n    \n    return data.slice(0, 20); // Show last 20 entries\n  };\n\n  // Chart data preparation\n  const yieldTrendData = {\n    labels: getFilteredData().map(p => new Date(p.created_at).toLocaleDateString()).slice(-10),\n    datasets: [\n      {\n        label: 'Predicted Yield (t/ha)',\n        data: getFilteredData().map(p => p.predicted_yield).slice(-10),\n        borderColor: 'rgb(34, 197, 94)',\n        backgroundColor: 'rgba(34, 197, 94, 0.1)',\n        tension: 0.4,\n        fill: true,\n        pointBackgroundColor: 'rgb(34, 197, 94)',\n        pointBorderColor: '#fff',\n        pointBorderWidth: 2,\n        pointRadius: 6,\n      },\n    ],\n  };\n\n  const cropYieldData = {\n    labels: statsData?.cropTypes || [],\n    datasets: [\n      {\n        label: 'Average Yield by Crop',\n        data: statsData?.cropTypes?.map(crop => {\n          const cropPredictions = getFilteredData().filter(p => p.crop_type === crop);\n          return cropPredictions.length > 0 ? \n            cropPredictions.reduce((sum, p) => sum + p.predicted_yield, 0) / cropPredictions.length : 0;\n        }) || [],\n        backgroundColor: [\n          'rgba(34, 197, 94, 0.8)',\n          'rgba(59, 130, 246, 0.8)',\n          'rgba(245, 158, 11, 0.8)',\n          'rgba(239, 68, 68, 0.8)',\n          'rgba(147, 51, 234, 0.8)',\n          'rgba(236, 72, 153, 0.8)',\n        ],\n        borderColor: [\n          'rgba(34, 197, 94, 1)',\n          'rgba(59, 130, 246, 1)',\n          'rgba(245, 158, 11, 1)',\n          'rgba(239, 68, 68, 1)',\n          'rgba(147, 51, 234, 1)',\n          'rgba(236, 72, 153, 1)',\n        ],\n        borderWidth: 2,\n      },\n    ],\n  };\n\n  const riskDistributionData = {\n    labels: ['Low Risk (Green)', 'Medium Risk (Yellow)', 'High Risk (Red)'],\n    datasets: [\n      {\n        data: [\n          statsData?.riskDistribution?.Green || 0,\n          statsData?.riskDistribution?.Yellow || 0,\n          statsData?.riskDistribution?.Red || 0,\n        ],\n        backgroundColor: [\n          'rgba(34, 197, 94, 0.8)',\n          'rgba(245, 158, 11, 0.8)',\n          'rgba(239, 68, 68, 0.8)',\n        ],\n        borderColor: [\n          'rgba(34, 197, 94, 1)',\n          'rgba(245, 158, 11, 1)',\n          'rgba(239, 68, 68, 1)',\n        ],\n        borderWidth: 2,\n      },\n    ],\n  };\n\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          font: {\n            size: 12\n          }\n        }\n      },\n      title: {\n        display: false,\n      },\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        grid: {\n          color: 'rgba(0,0,0,0.1)',\n        },\n        ticks: {\n          font: {\n            size: 11\n          }\n        }\n      },\n      x: {\n        grid: {\n          color: 'rgba(0,0,0,0.1)',\n        },\n        ticks: {\n          font: {\n            size: 11\n          }\n        }\n      }\n    }\n  };\n\n  const doughnutOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'bottom',\n        labels: {\n          font: {\n            size: 12\n          },\n          padding: 20\n        }\n      },\n    },\n  };\n\n  const exportData = () => {\n    try {\n      const dataToExport = {\n        user: user.username,\n        exportDate: new Date().toISOString(),\n        filters: {\n          crop: selectedCrop,\n          timeRange: selectedTimeRange\n        },\n        statistics: statsData,\n        predictions: getFilteredData()\n      };\n      \n      const blob = new Blob([JSON.stringify(dataToExport, null, 2)], {\n        type: 'application/json'\n      });\n      \n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `crop-reports-${user.username}-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      \n      toast.success('Report exported successfully');\n    } catch (error) {\n      toast.error('Failed to export report');\n    }\n  };\n\n  const getRiskIcon = (riskLevel) => {\n    switch (riskLevel) {\n      case 'Green':\n        return <CheckCircle className=\"h-4 w-4 text-green-600\" />;\n      case 'Yellow':\n        return <AlertTriangle className=\"h-4 w-4 text-yellow-600\" />;\n      case 'Red':\n        return <AlertTriangle className=\"h-4 w-4 text-red-600\" />;\n      default:\n        return <Activity className=\"h-4 w-4 text-gray-600\" />;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center pt-16\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-green-500 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading reports data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 pt-16\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 flex items-center\">\n            <BarChart3 className=\"h-8 w-8 mr-3 text-green-600\" />\n            {t('reports')}\n          </h1>\n          <p className=\"text-gray-600 mt-2\">\n            Comprehensive analysis of your crop yield predictions and farming trends\n          </p>\n        </div>\n\n        {/* Controls */}\n        <div className=\"bg-white rounded-lg shadow-md p-4 mb-6\">\n          <div className=\"flex flex-wrap items-center justify-between gap-4\">\n            <div className=\"flex flex-wrap items-center gap-4\">\n              <div className=\"flex items-center space-x-2\">\n                <Filter className=\"h-5 w-5 text-gray-500\" />\n                <span className=\"text-sm font-medium text-gray-700\">Filters:</span>\n              </div>\n              \n              <select\n                value={selectedCrop}\n                onChange={(e) => setSelectedCrop(e.target.value)}\n                className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n              >\n                <option value=\"all\">All Crops</option>\n                {statsData?.cropTypes?.map(crop => (\n                  <option key={crop} value={crop}>{crop}</option>\n                ))}\n              </select>\n              \n              <select\n                value={selectedTimeRange}\n                onChange={(e) => setSelectedTimeRange(e.target.value)}\n                className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-green-500\"\n              >\n                <option value=\"all\">All Time</option>\n                <option value=\"7d\">Last 7 Days</option>\n                <option value=\"30d\">Last 30 Days</option>\n                <option value=\"90d\">Last 3 Months</option>\n                <option value=\"1y\">Last Year</option>\n              </select>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={fetchReportsData}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors\"\n              >\n                <RefreshCw className=\"h-4 w-4\" />\n                <span>Refresh</span>\n              </button>\n              \n              <button\n                onClick={exportData}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors\"\n              >\n                <Download className=\"h-4 w-4\" />\n                <span>Export</span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Statistics Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Total Predictions</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{statsData?.totalPredictions || 0}</p>\n              </div>\n              <Target className=\"h-10 w-10 text-blue-500\" />\n            </div>\n          </div>\n          \n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Average Yield</p>\n                <p className=\"text-2xl font-bold text-green-600\">{statsData?.avgYield || '0.00'}</p>\n                <p className=\"text-xs text-gray-500\">tons/hectare</p>\n              </div>\n              <TrendingUp className=\"h-10 w-10 text-green-500\" />\n            </div>\n          </div>\n          \n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">High Risk</p>\n                <p className=\"text-2xl font-bold text-red-600\">{statsData?.riskDistribution?.Red || 0}</p>\n                <p className=\"text-xs text-gray-500\">predictions</p>\n              </div>\n              <AlertTriangle className=\"h-10 w-10 text-red-500\" />\n            </div>\n          </div>\n          \n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Safe Predictions</p>\n                <p className=\"text-2xl font-bold text-green-600\">{statsData?.riskDistribution?.Green || 0}</p>\n                <p className=\"text-xs text-gray-500\">low risk</p>\n              </div>\n              <CheckCircle className=\"h-10 w-10 text-green-500\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Charts Grid */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n          {/* Yield Trend Chart */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-semibold text-gray-800 flex items-center\">\n                <TrendingUp className=\"h-6 w-6 mr-2 text-blue-500\" />\n                Yield Trends\n              </h2>\n            </div>\n            <div className=\"h-80\">\n              {getFilteredData().length > 0 ? (\n                <Line data={yieldTrendData} options={chartOptions} />\n              ) : (\n                <div className=\"flex items-center justify-center h-full text-gray-500\">\n                  <div className=\"text-center\">\n                    <Activity className=\"h-12 w-12 mx-auto mb-2 text-gray-300\" />\n                    <p>No data available for selected filters</p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Risk Distribution Chart */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-semibold text-gray-800 flex items-center\">\n                <PieChart className=\"h-6 w-6 mr-2 text-purple-500\" />\n                Risk Distribution\n              </h2>\n            </div>\n            <div className=\"h-80\">\n              {getFilteredData().length > 0 ? (\n                <Doughnut data={riskDistributionData} options={doughnutOptions} />\n              ) : (\n                <div className=\"flex items-center justify-center h-full text-gray-500\">\n                  <div className=\"text-center\">\n                    <PieChart className=\"h-12 w-12 mx-auto mb-2 text-gray-300\" />\n                    <p>No data available for selected filters</p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Crop Comparison Chart */}\n        {statsData?.cropTypes?.length > 1 && (\n          <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-semibold text-gray-800 flex items-center\">\n                <BarChart3 className=\"h-6 w-6 mr-2 text-green-500\" />\n                Crop Yield Comparison\n              </h2>\n            </div>\n            <div className=\"h-80\">\n              <Bar data={cropYieldData} options={chartOptions} />\n            </div>\n          </div>\n        )}\n\n        {/* Historical Predictions */}\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h2 className=\"text-xl font-semibold text-gray-800 mb-6 flex items-center\">\n            <Calendar className=\"h-6 w-6 mr-2 text-green-500\" />\n            Historical Predictions\n          </h2>\n\n          {reportsData?.predictions?.length > 0 ? (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Date\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Crop Type\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Predicted Yield\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Risk Level\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Recommendations\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {reportsData.predictions.map((prediction) => (\n                    <tr key={prediction.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {new Date(prediction.created_at).toLocaleDateString()}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {prediction.crop_type}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600\">\n                        {prediction.predicted_yield} t/ha\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                          prediction.risk_level === 'Green' ? 'bg-green-100 text-green-800' :\n                          prediction.risk_level === 'Yellow' ? 'bg-yellow-100 text-yellow-800' :\n                          'bg-red-100 text-red-800'\n                        }`}>\n                          {t(prediction.risk_level === 'Green' ? 'safe' :\n                             prediction.risk_level === 'Yellow' ? 'warning' : 'risk')}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 text-sm text-gray-900\">\n                        {prediction.recommendations.length} recommendations\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500\">No historical data available yet.</p>\n              <button\n                onClick={() => window.location.href = '/data-entry'}\n                className=\"mt-4 bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors\"\n              >\n                Start Making Predictions\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Reports;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}